import unittest
import unittest.mock
from tool.statistics.redundancy.functions import select_best
from tool.statistics.support_classes import (
    DescriptiveStats, ResultDict, Order
)


class TestRedundancy(unittest.TestCase):
    def setUp(self):
        self.results = {
            "acc": {
               "ranking": [
                       DescriptiveStats(("a", ), 1, 0.99),
                       DescriptiveStats(("b", ), 0, 0.98)
                   ],
               "comparisons": {
                   (("a", ), ("b", )): (0.0, Order.GREATER)
                }
            }
        }
        self.redundant_values = ["a", "b"]
        self.index = 0

    def test_select_best(self):
        self.assertEqual(
            select_best(self.results, self.redundant_values, self.index),
            ["b"]
        )
