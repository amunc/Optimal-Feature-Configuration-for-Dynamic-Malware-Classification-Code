#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Thu Jul 23 10:08:22 2020

@author: alumn0
"""
import logging
import logging.config
from logging import LogRecord
from ..typing import Settings

class FilterByName(logging.Filter):
    '''
    A simple filter that excludes messages whose pathname contains a substring
    '''
    def __init__(self, name: str):
        self.name = name

    def filter(self, record: LogRecord) -> bool:
        return self.name in record.name

def load_log_config(settings: Settings) -> None:
    '''
    Set the configuration of the log as specified in the settings

    Arguments
    ---------
    settings: Settings
        The log settings in dict format
    '''
    logging.config.dictConfig(settings)
